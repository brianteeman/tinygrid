/*! For license information please see plugin.js.LICENSE */
(()=>{"use strict";var e={486:(e,t,n)=>{var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}function s(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,l=i.length;s<l;s++,o++)r[o]=i[s];return r}const l=function(){function e(e,t){this.settings=e,this.editor=t,this.classNames=["grid-container","grid-row","grid-col"],this.onKeyDown=this.onKeyDown.bind(this),this.onBeforeExecCommand=this.onBeforeExecCommand.bind(this),t.on("keydown",this.onKeyDown),t.on("BeforeExecCommand",this.onBeforeExecCommand)}return e.prototype.onKeyDown=function(e){var t=this,n=e.charCode||e.keyCode,r=this.editor.selection.getNode(),o=r.parentNode,i=this.editor.selection.getRng(!1);if(8===n){if(i.startOffset>0)return;if(i.startOffset<=0&&this.classNames.some((function(e){return r.classList.contains(e)})))return e.preventDefault(),!1;if(o&&1===o.childElementCount&&this.classNames.some((function(e){return o.classList.contains(e)}))){if(!this.classNames.some((function(e){return r.classList.contains(e)}))){if(i.startOffset<=0)return e.preventDefault(),!1;this.editor.undoManager.transact((function(){t.editor.dom.remove(r),t.editor.execCommand("mceInsertContent",!1,t.editor.dom.createHTML("p"))}))}return e.preventDefault(),!1}}if(46===n){if(o&&1===o.childElementCount&&this.classNames.some((function(e){return o.classList.contains(e)})))return e.preventDefault(),!1;if(i.startOffset>0)return;if(this.classNames.some((function(e){return r.classList.contains(e)})))return e.preventDefault(),!1}},e.prototype.onBeforeExecCommand=function(e){if("InsertOrderedList"===e.command||"InsertUnorderedList"===e.command||"InsertDefinitionList"===e.command){var t=this.editor.selection.getNode();this.classNames.forEach((function(n){if(t.classList.contains(""+n))return e.preventDefault(),!1}))}},e}();const a=function(){function e(e,t){this.settings=e,this.editor=t,this.getElement=this.getElement.bind(this),this.isElement=this.isElement.bind(this),this.getElementColumn=this.getElementColumn.bind(this),this.isElementColumn=this.isElementColumn.bind(this),this.getElementRow=this.getElementRow.bind(this),this.isElementRow=this.isElementRow.bind(this),this.selectElement=this.selectElement.bind(this)}return e.prototype.cmd=function(e,t){var n=this;return void 0===t&&(t=null),function(){return n.editor.execCommand(e,!1,t)}},e.prototype.getElement=function(){return this.editor.dom.getParent(this.editor.selection.getStart(),".grid-container")},e.prototype.isElement=function(e){return this.editor.dom.is(e,".grid-container")&&this.editor.getBody().contains(e)},e.prototype.getElementColumn=function(){return this.editor.dom.getParent(this.editor.selection.getStart(),".grid-col")},e.prototype.isElementColumn=function(e){return!(!this.editor.dom.is(e,".grid-col")||!this.editor.getBody().contains(e))},e.prototype.getElementRow=function(){return this.editor.dom.getParent(this.editor.selection.getStart(),".grid-row")},e.prototype.isElementRow=function(e){return this.editor.dom.is(e,".grid-row")&&this.editor.getBody().contains(e)},e.prototype.selectElement=function(e){this.getElementColumn()&&(this.editor.selection.collapse(),this.editor.focus(!1))},e}();const u=function(){function e(e){this.preset=e}return e.prototype.render=function(e,t){var n=this,r="selected"in t?t.selected:{};return{title:"Insert column",data:{},body:s(this.preset.breakpoints.map((function(e){return n.breadpoint(e,r)}))),onSubmit:e}},e.prototype.getSelected=function(e){var t=this,n={};return this.preset.breakpoints.forEach((function(r){var o=t.preset.columnClassRegex(r.preffix).exec(e),i="";o&&"column"in o.groups&&(i=o.groups.column),n[r.value]=i})),n},e.prototype.breadpoint=function(e,t){return{type:"container",label:e.text,layout:"flex",direction:"row",align:"center",spacing:5,items:[{type:"listbox",name:e.value,value:e.value in t?t[e.value]:"",values:this.preset.columns}]}},e}();const c=function(e){function t(n,r,o){var i=e.call(this,n,o)||this;return i.settings=n,i.preset=r,i.editor=o,i.insertColumnDialog=new u(i.preset),i.insert=i.insert.bind(i),i.insertAfter=i.insertAfter.bind(i),i.insertBefore=i.insertBefore.bind(i),i.delete=i.delete.bind(i),i.properties=i.properties.bind(i),i.onInsertSubmit=i.onInsertSubmit.bind(i),o.addCommand(t.CMD_INSERT_AFTER_COLUMN,i.insertAfter),o.addCommand(t.CMD_INSERT_BEFORE_COLUMN,i.insertBefore),o.addCommand(t.CMD_DELETE_COLUMN,i.delete),o.addCommand(t.CMD_PROPERTIES_COLUMN,i.properties),o.addButton(t.BTN_COLUMN_PROPERTIES,{icon:"tablecellprops",cmd:t.CMD_PROPERTIES_COLUMN,context:"properties",tooltip:"Column properties"}),o.addButton(t.BTN_COLUMN_INSERT_AFTER,{icon:"tableinsertcolafter",cmd:t.CMD_INSERT_AFTER_COLUMN,context:"insert",tooltip:"Insert column after"}),o.addButton(t.BTN_COLUMN_INSERT_BEFORE,{icon:"tableinsertcolbefore",cmd:t.CMD_INSERT_BEFORE_COLUMN,context:"insert",tooltip:"Insert column before"}),o.addButton(t.BTN_COLUMN_DELETE,{icon:"tabledeletecol",cmd:t.CMD_DELETE_COLUMN,context:"delete",tooltip:"Delete column"}),i}return o(t,e),t.prototype.insertAfter=function(e,t){return this.insert(e,"after")},t.prototype.insertBefore=function(e,t){return this.insert(e,"before")},t.prototype.insert=function(e,t){var n=this;return!!this.getElementRow()&&(this.editor.windowManager.open(this.insertColumnDialog.render((function(e){n.onInsertSubmit(e,t)}),{}),{}),!0)},t.prototype.delete=function(e,t){var n=this.getElementColumn();return!!n&&(1!==n.parentNode.querySelectorAll(".grid-col").length&&(this.editor.dom.remove(n),!0))},t.prototype.onInsertSubmit=function(e,t){var n=e.data,r=this.getElementColumn();r?"after"===t?r.parentNode.insertBefore(this.preset.renderColumn(n),r.nextSibling):r.parentNode.insertBefore(this.preset.renderColumn(n),r):this.getElementRow().appendChild(this.preset.renderColumn(n))},t.prototype.properties=function(e,t){var n=this,r=this.getElementColumn();if(r){var o=this.insertColumnDialog.getSelected(r.classList.value);return this.editor.windowManager.open(this.insertColumnDialog.render((function(e){var t=[];r.classList.forEach((function(e){n.preset.isColumn(e)&&t.push(e)})),t.forEach((function(e){r.classList.remove(e)}));var o=function(t){if(e.data.hasOwnProperty(t)){var o=e.data[t],i=n.preset.breakpoints.find((function(e){return e.value===t}));if(!o)return"continue";r.classList.add(n.preset.columnClass(i.preffix,o))}};for(var i in e.data)o(i)}),{class:r.classList.value,selected:o}),{}),!0}return!1},t.CMD_INSERT_AFTER_COLUMN="columnInsertAfter",t.CMD_INSERT_BEFORE_COLUMN="columnInsertBefore",t.CMD_DELETE_COLUMN="columnDelete",t.CMD_PROPERTIES_COLUMN="columnProperties",t.BTN_COLUMN_INSERT_AFTER="column_insert_after",t.BTN_COLUMN_INSERT_BEFORE="column_insert_before",t.BTN_COLUMN_DELETE="column_delete",t.BTN_COLUMN_PROPERTIES="column_properties",t}(a);const d=function(e){function t(n,r,o){var i=e.call(this,n,o)||this;return i.settings=n,i.preset=r,i.editor=o,i.insert=i.insert.bind(i),i.insertAfter=i.insertAfter.bind(i),i.insertBefore=i.insertBefore.bind(i),i.delete=i.delete.bind(i),o.addCommand(t.CMD_INSERT_AFTER_ROW,i.insertAfter),o.addCommand(t.CMD_INSERT_BEFORE_ROW,i.insertBefore),o.addCommand(t.CMD_DELETE_ROW,i.delete),o.addButton(t.BTN_ROW_INSERT_AFTER,{icon:"tableinsertrowafter",cmd:t.CMD_INSERT_AFTER_ROW,context:"insert",tooltip:"Insert row after"}),o.addButton(t.BTN_ROW_INSERT_BEFORE,{icon:"tableinsertrowbefore",cmd:t.CMD_INSERT_BEFORE_ROW,context:"insert",tooltip:"Insert row before"}),o.addButton(t.BTN_ROW_DELETE,{icon:"tabledeleterow",cmd:t.CMD_DELETE_ROW,context:"delete",tooltip:"Delete row"}),i}return o(t,e),t.prototype.insertAfter=function(e,t){return this.insert(e,"after")},t.prototype.insertBefore=function(e,t){return this.insert(e,"before")},t.prototype.insert=function(e,t){var n=this.getElementRow();if(n){var r=this.preset.renderRow();return"after"===t?n.parentNode.insertBefore(r,n.nextSibling):n.parentNode.insertBefore(r,n),!0}return!1},t.prototype.delete=function(e,t){var n=this.getElementRow();return!!n&&(this.editor.dom.remove(n),!0)},t.CMD_INSERT_AFTER_ROW="rowInsertAfter",t.CMD_INSERT_BEFORE_ROW="rowInsertBefore",t.CMD_DELETE_ROW="rowDelete",t.BTN_ROW_INSERT_AFTER="row_insert_after",t.BTN_ROW_INSERT_BEFORE="row_insert_before",t.BTN_ROW_DELETE="row_delete",t}(a);const m=function(e){function t(n,r,o){var i=e.call(this,n,o)||this;return i.settings=n,i.preset=r,i.editor=o,i.insert=i.insert.bind(i),i.delete=i.delete.bind(i),o.addCommand(t.CMD_INSERT_GRID,i.insert),o.addCommand(t.CMD_DELETE_GRID,i.delete),o.addMenuItem(t.MENU_INSERT_GRID,{icon:"table",text:"Insert grid",cmd:t.CMD_INSERT_GRID,context:"insert"}),o.addButton(t.BTN_DELETE_GRID,{icon:"tabledelete",cmd:t.CMD_DELETE_GRID,context:"delete",tooltip:"Delete grid"}),i.editor.addContextToolbar(i.isElementColumn,t.BTN_DELETE_GRID+" | "+c.BTN_COLUMN_PROPERTIES+" "+c.BTN_COLUMN_INSERT_AFTER+" "+c.BTN_COLUMN_INSERT_BEFORE+" "+c.BTN_COLUMN_DELETE+" | "+d.BTN_ROW_INSERT_AFTER+" "+d.BTN_ROW_INSERT_BEFORE+" "+d.BTN_ROW_DELETE),i}return o(t,e),t.prototype.insert=function(e,t){return!this.getElement()&&(this.editor.execCommand("mceInsertContent",!1,this.preset.renderContainer().outerHTML),!0)},t.prototype.delete=function(e,t){var n=this.getElement();return!!n&&(this.editor.dom.remove(n),!0)},t.CMD_INSERT_GRID="gridInsert",t.CMD_DELETE_GRID="gridDelete",t.MENU_INSERT_GRID="grid_insert",t.BTN_DELETE_GRID="grid_delete",t}(a);const f=function(){function e(e){this.editor=e}return Object.defineProperty(e.prototype,"preset",{get:function(){var t=this.editor.getParam("grid_preset",e.presets[0]);if(-1!==e.presets.indexOf(t))return t;throw new Error("Grid preset '"+t+"' could not be found!")},enumerable:!0,configurable:!0}),e.presets=["Bootstrap3","Foundation5"],e}();const p=function(){function e(e,t){var n=this;this.settings=e,this.editor=t,this.columns=[{text:"Select column",value:""},{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"},{text:"4",value:"4"},{text:"5",value:"5"},{text:"6",value:"6"},{text:"7",value:"7"},{text:"8",value:"8"},{text:"9",value:"9"},{text:"10",value:"10"},{text:"11",value:"11"},{text:"12",value:"12"}],this.breakpoints=[{text:"Extra small",value:"extra_small",preffix:"xs"},{text:"Small",value:"small",preffix:"sm"},{text:"Medium",value:"medium",preffix:"md"},{text:"Large",value:"large",preffix:"lg"}],this.style=function(){return"bootstrap3.css"},this.columnClassRegex=function(e){return new RegExp("col-"+e+"-(?<column>[\\d]+)","gi")},this.columnClass=function(e,t){return"col-"+e+"-"+t},this.isColumn=function(e){return!!n.breakpoints.find((function(t){return!!n.columns.find((function(r){return n.columnClass(t.preffix,r.value)===e}))}))}}return e.prototype.renderContainer=function(){var e=document.createElement("div");return e.innerHTML='\n        <div class="grid-container container">\n            <div class="grid-row row">\n                <div class="grid-col col-lg-12"><p>Lorem ipsum</p></div>\n            </div>\n        </div>'.trim(),e},e.prototype.renderRow=function(){var e=document.createElement("div");return e.innerHTML='\n        <div class="grid-row row">\n            <div class="grid-col col-lg-12"><p>Lorem ipsum</p></div>\n        </div>'.trim(),e.firstChild},e.prototype.renderColumn=function(e){var t='<div class="grid-col '+((e.extra_small.length>0?"col-sm-"+e.extra_small:"")+" "+(e.small.length>0?"col-sm-"+e.small:"")+" "+(e.medium.length>0?"col-md-"+e.medium:"")+" "+(e.large.length>0?"col-lg-"+e.large:"")).trim()+'"><p>Lorem ipsum</p></div>',n=document.createElement("div");return n.innerHTML=t.trim(),n.firstChild},e}();const E=function(){function e(e,t){var n=this;this.settings=e,this.editor=t,this.columns=[{text:"Select column",value:""},{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"},{text:"4",value:"4"},{text:"5",value:"5"},{text:"6",value:"6"},{text:"7",value:"7"},{text:"8",value:"8"},{text:"9",value:"9"},{text:"10",value:"10"},{text:"11",value:"11"},{text:"12",value:"12"}],this.breakpoints=[{text:"Small",value:"small",preffix:"small"},{text:"Medium",value:"medium",preffix:"medium"},{text:"Large",value:"large",preffix:"large"}],this.style=function(){return"foundation5.css"},this.columnClassRegex=function(e){return new RegExp(e+"-(?<column>[\\d]+)","gi")},this.columnClass=function(e,t){return e+"-"+t},this.isColumn=function(e){return!!n.breakpoints.find((function(t){return!!n.columns.find((function(r){return n.columnClass(t.preffix,r.value)===e}))}))}}return e.prototype.renderContainer=function(){var e=document.createElement("div");return e.innerHTML='\n        <div class="grid-container container">\n            <div class="grid-row row">\n                <div class="grid-col columns large-12"><p>Lorem ipsum</p></div>\n            </div>\n        </div>'.trim(),e},e.prototype.renderRow=function(){var e=document.createElement("div");return e.innerHTML='\n        <div class="grid-row row">\n            <div class="grid-col columns large-12"><p>Lorem ipsum</p></div>\n        </div>'.trim(),e.firstChild},e.prototype.renderColumn=function(e){var t='<div class="grid-col columns '+((e.small.length>0?"small-"+e.small:"")+" "+(e.medium.length>0?"medium-"+e.medium:"")+" "+(e.large.length>0?"large-"+e.large:"")).trim()+'"><p>Lorem ipsum</p></div>',n=document.createElement("div");return n.innerHTML=t.trim(),n.firstChild},e}();n.d(t,{b:()=>_});var h=function(e,t){return n=void 0,r=void 0,s=function(){var n,r;return i(this,(function(o){switch(n=new f(e),r=null,n.preset){case"Foundation5":r=new E(n,e);break;default:r=new p(n,e)}return e.contentCSS.push(t+"/"+r.style()),new l(n,e),new d(n,r,e),new c(n,r,e),new m(n,r,e),[2]}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{a(s.next(e))}catch(e){t(e)}}function l(e){try{a(s.throw(e))}catch(e){t(e)}}function a(t){t.done?e(t.value):new o((function(e){e(t.value)})).then(i,l)}a((s=s.apply(n,r||[])).next())}));var n,r,o,s};const _=function(){tinymce.PluginManager.add("grid",h),tinymce.PluginManager.requireLangPack("grid")}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r](o,o.exports,n),o.l=!0,o.exports}!function(){var e=Object.prototype.hasOwnProperty;n.d=(t,n)=>{for(var r in n)e.call(n,r)&&!e.call(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}}(),(0,n(486).b)()})();