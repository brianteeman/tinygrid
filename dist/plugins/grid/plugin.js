/*! For license information please see plugin.js.LICENSE */
(()=>{"use strict";var t={418:(t,e,n)=>{const r=function(){function t(t){this.editor=t,this.classNames=["grid-col"],this.onKeyDown=this.onKeyDown.bind(this),t.on("keydown",this.onKeyDown)}return t.prototype.onKeyDown=function(t){var e=this;8===(t.charCode||t.keyCode)&&0===this.editor.selection.getRng().startOffset&&this.classNames.forEach((function(n){if(e.editor.selection.getNode().classList.contains("."+n))return t.preventDefault(),!1}))},t}();var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,l=i.length;s<l;s++,o++)r[o]=i[s];return r}const l=function(){function t(t){this.editor=t,this.getElement=this.getElement.bind(this),this.isElement=this.isElement.bind(this),this.getElementColumn=this.getElementColumn.bind(this),this.isElementColumn=this.isElementColumn.bind(this),this.getElementRow=this.getElementRow.bind(this),this.isElementRow=this.isElementRow.bind(this),this.selectElement=this.selectElement.bind(this)}return t.prototype.cmd=function(t,e){var n=this;return void 0===e&&(e=null),function(){return n.editor.execCommand(t,!1,e)}},t.prototype.getElement=function(){return this.editor.dom.getParent(this.editor.selection.getStart(),".grid")},t.prototype.isElement=function(){return!!this.getElement()},t.prototype.getElementColumn=function(){return this.editor.dom.getParent(this.editor.selection.getStart(),".grid-col")},t.prototype.isElementColumn=function(){return!!this.getElementColumn()},t.prototype.getElementRow=function(){return this.editor.dom.getParent(this.editor.selection.getStart(),".grid-row")},t.prototype.isElementRow=function(){return!!this.getElementRow()},t.prototype.selectElement=function(t){this.getElementColumn()&&(this.editor.selection.collapse(),this.editor.focus(!1))},t}();const d=function(){function t(){}return t.render=function(t,e){var n=this,r="selected"in e?e.selected:{};return{title:"Insert column",data:{},body:s(this.breakpoints.map((function(t){return n.breadpoint(t,r)}))),onSubmit:t}},t.getSelected=function(t){var e={};return this.breakpoints.forEach((function(n){var r=new RegExp("col-"+n.preffix+"-(?<column>[\\d]+)","gi").exec(t),o="";r&&"column"in r.groups&&(o=r.groups.column),e[n.value]=o})),e},t.breadpoint=function(t,e){return{type:"container",label:t.text,layout:"flex",direction:"row",align:"center",spacing:5,items:[{type:"listbox",name:t.value,value:t.value in e?e[t.value]:"",values:this.columns}]}},t.columns=[{text:"Select column",value:""},{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"},{text:"4",value:"4"},{text:"5",value:"5"},{text:"6",value:"6"},{text:"7",value:"7"},{text:"8",value:"8"},{text:"9",value:"9"},{text:"10",value:"10"},{text:"11",value:"11"},{text:"12",value:"12"}],t.breakpoints=[{text:"Small",value:"small",preffix:"sm"},{text:"Medium",value:"medium",preffix:"md"},{text:"Large",value:"large",preffix:"lg"}],t}();const a=function(t){function e(n){var r=t.call(this,n)||this;return r.editor=n,r.insert=r.insert.bind(r),r.insertAfter=r.insertAfter.bind(r),r.insertBefore=r.insertBefore.bind(r),r.delete=r.delete.bind(r),r.properties=r.properties.bind(r),r.onInsertSubmit=r.onInsertSubmit.bind(r),n.addCommand(e.CMD_INSERT_AFTER_COLUMN,r.insertAfter),n.addCommand(e.CMD_INSERT_BEFORE_COLUMN,r.insertBefore),n.addCommand(e.CMD_DELETE_COLUMN,r.delete),n.addCommand(e.CMD_PROPERTIES_COLUMN,r.properties),n.addButton(e.BTN_COLUMN_PROPERTIES,{icon:"tablecellprops",cmd:e.CMD_PROPERTIES_COLUMN,context:"properties",tooltip:"Column properties"}),n.addButton(e.BTN_COLUMN_INSERT_AFTER,{icon:"tableinsertcolafter",cmd:e.CMD_INSERT_AFTER_COLUMN,context:"insert",tooltip:"Insert column after"}),n.addButton(e.BTN_COLUMN_INSERT_BEFORE,{icon:"tableinsertcolbefore",cmd:e.CMD_INSERT_BEFORE_COLUMN,context:"insert",tooltip:"Insert column before"}),n.addButton(e.BTN_COLUMN_DELETE,{icon:"tabledeletecol",cmd:e.CMD_DELETE_COLUMN,context:"delete",tooltip:"Delete column"}),r}return i(e,t),e.prototype.insertAfter=function(t,e){return this.insert(t,"after")},e.prototype.insertBefore=function(t,e){return this.insert(t,"before")},e.prototype.insert=function(t,e){var n=this;return!!this.getElementRow()&&(this.editor.windowManager.open(d.render((function(t){n.onInsertSubmit(t,e)}),{}),{}),!0)},e.prototype.delete=function(t,e){var n=this.getElementColumn();return!!n&&(this.editor.dom.remove(n),!0)},e.prototype.onInsertSubmit=function(t,e){var n=t.data,r=this.getElementColumn();r?"after"===e?r.parentNode.insertBefore(this.template(n),r.nextSibling):r.parentNode.insertBefore(this.template(n),r):this.getElementRow().appendChild(this.template(n))},e.prototype.properties=function(t,e){var n=this.getElementColumn();if(n){var r=d.getSelected(n.classList.value);return this.editor.windowManager.open(d.render((function(t){var e=[];n.classList.forEach((function(t){-1!==t.indexOf("col-")&&e.push(t)})),e.forEach((function(t){n.classList.remove(t)}));var r=function(e){if(t.data.hasOwnProperty(e)){var r=t.data[e],o=d.breakpoints.find((function(t){return t.value===e}));if(!r)return"continue";n.classList.add("col-"+o.preffix+"-"+r)}};for(var o in t.data)r(o)}),{class:n.classList.value,selected:r}),{}),!0}return!1},e.prototype.template=function(t){var e='<div class="grid-col '+((t.small.length>0?"col-sm-"+t.small:"")+" "+(t.medium.length>0?"col-md-"+t.medium:"")+" "+(t.large.length>0?"col-lg-"+t.large:"")).trim()+' editoNonEditable">&nbsp;</div>',n=document.createElement("div");return n.innerHTML=e.trim(),n.firstChild},e.CMD_INSERT_AFTER_COLUMN="columnInsertAfter",e.CMD_INSERT_BEFORE_COLUMN="columnInsertBefore",e.CMD_DELETE_COLUMN="columnDelete",e.CMD_PROPERTIES_COLUMN="columnProperties",e.BTN_COLUMN_INSERT_AFTER="column_insert_after",e.BTN_COLUMN_INSERT_BEFORE="column_insert_before",e.BTN_COLUMN_DELETE="column_delete",e.BTN_COLUMN_PROPERTIES="column_properties",e}(l);const E=function(t){function e(n){var r=t.call(this,n)||this;return r.editor=n,r.insert=r.insert.bind(r),r.insertAfter=r.insertAfter.bind(r),r.insertBefore=r.insertBefore.bind(r),r.delete=r.delete.bind(r),n.addCommand(e.CMD_INSERT_AFTER_ROW,r.insertAfter),n.addCommand(e.CMD_INSERT_BEFORE_ROW,r.insertBefore),n.addCommand(e.CMD_DELETE_ROW,r.delete),n.addButton(e.BTN_ROW_INSERT_AFTER,{icon:"tableinsertrowafter",cmd:e.CMD_INSERT_AFTER_ROW,context:"insert",tooltip:"Insert row after"}),n.addButton(e.BTN_ROW_INSERT_BEFORE,{icon:"tableinsertrowbefore",cmd:e.CMD_INSERT_BEFORE_ROW,context:"insert",tooltip:"Insert row before"}),n.addButton(e.BTN_ROW_DELETE,{icon:"tabledeleterow",cmd:e.CMD_DELETE_ROW,context:"delete",tooltip:"Delete row"}),r}return i(e,t),e.prototype.insertAfter=function(t,e){return this.insert(t,"after")},e.prototype.insertBefore=function(t,e){return this.insert(t,"before")},e.prototype.insert=function(t,e){var n=this.getElementRow();return!!n&&("after"===e?n.parentNode.insertBefore(this.template(),n.nextSibling):n.parentNode.insertBefore(this.template(),n),!0)},e.prototype.delete=function(t,e){var n=this.getElementRow();return!!n&&(this.editor.dom.remove(n),!0)},e.prototype.template=function(){var t=document.createElement("div");return t.innerHTML='<div class="grid-row row editoNonEditable"></div>',t.firstChild},e.CMD_INSERT_AFTER_ROW="rowInsertAfter",e.CMD_INSERT_BEFORE_ROW="rowInsertBefore",e.CMD_DELETE_ROW="rowDelete",e.BTN_ROW_INSERT_AFTER="row_insert_after",e.BTN_ROW_INSERT_BEFORE="row_insert_before",e.BTN_ROW_DELETE="row_delete",e}(l);const c=function(t){function e(n){var r=t.call(this,n)||this;return r.editor=n,r.insert=r.insert.bind(r),r.delete=r.delete.bind(r),n.addCommand(e.CMD_INSERT_GRID,r.insert),n.addCommand(e.CMD_DELETE_GRID,r.delete),n.addMenuItem(e.MENU_INSERT_GRID,{icon:"table",text:"grid.insert",cmd:e.CMD_INSERT_GRID,context:"insert"}),n.addButton(e.BTN_DELETE_GRID,{icon:"tabledelete",cmd:e.CMD_DELETE_GRID,context:"delete",tooltip:"Delete grid"}),r.editor.addContextToolbar(r.isElementColumn,e.BTN_DELETE_GRID+" | "+a.BTN_COLUMN_PROPERTIES+" "+a.BTN_COLUMN_INSERT_AFTER+" "+a.BTN_COLUMN_INSERT_BEFORE+" "+a.BTN_COLUMN_DELETE+" | "+E.BTN_ROW_INSERT_AFTER+" "+E.BTN_ROW_INSERT_BEFORE+" "+E.BTN_ROW_DELETE),r.editor.addContextToolbar(r.isElementRow,e.BTN_DELETE_GRID+" | "+a.BTN_COLUMN_PROPERTIES+" "+a.BTN_COLUMN_INSERT_AFTER+" "+a.BTN_COLUMN_INSERT_BEFORE+" "+a.BTN_COLUMN_DELETE+" | "+E.BTN_ROW_INSERT_AFTER+" "+E.BTN_ROW_INSERT_BEFORE+" "+E.BTN_ROW_DELETE),r}return i(e,t),e.prototype.insert=function(t,e){return!this.getElement()&&(this.editor.execCommand("mceInsertContent",!1,this.template()),!0)},e.prototype.delete=function(t,e){var n=this.getElement();return!!n&&(this.editor.dom.remove(n),!0)},e.prototype.template=function(){return'\n        <div class="grid container editoNonEditable">\n            <div class="grid-row row editoNonEditable">\n                <div class="grid-col col-lg-12 editoNonEditable">Lorem ipsum</div>\n            </div>\n        </div>'},e.CMD_INSERT_GRID="gridInsert",e.CMD_DELETE_GRID="gridDelete",e.MENU_INSERT_GRID="grid_insert",e.BTN_DELETE_GRID="grid_delete",e}(l);n.d(e,{b:()=>_});var u=function(t,e){t.contentCSS.push(e+"/style.css");new r(t),new E(t),new a(t),new c(t)};const _=function(){tinymce.PluginManager.add("grid",u),tinymce.PluginManager.requireLangPack("grid")}}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r](o,o.exports,n),o.l=!0,o.exports}!function(){var t=Object.prototype.hasOwnProperty;n.d=(e,n)=>{for(var r in n)t.call(n,r)&&!t.call(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),(0,n(418).b)()})();